<!DOCTYPE html>
<html>
<head lang="en">
	<title>Day 3: Toggling Multiple Password Fields | Vanilla JS Academy</title>

	<style type="text/css">
		body {
		margin: 1rem auto;
		max-width: 25rem;
		width: 88%;
		}

		label {
		display: block;
		width: 100%;
		}

		input {
		margin-bottom: 1rem;
		}

		.password {
		width: 100%;
		}

		[type="checkbox"] {
		margin-bottom: 0;
		margin-right: 0.25em;
		}
	</style>
</head>
<body>
    <nav>
        <a href="/vanillajsacademy/">View All Projects</a>
    </nav>

	<h1>Password Visibility</h1>

	<form>
		<div>
		<label for="current-password">Current Password</label>
		<input class="password" type="password" name="current-password" id="current-password">
		</div>

		<div>
		<label for="new-password">New Password</label>
		<input class="password" type="password" name="new-password" id="new-password">
		</div>

		<div>
		<label for="show-passwords">
			<input type="checkbox" name="show-passwords" id="show-passwords">
			Show passwords
		</label>
		</div>

		<p>
		<button type="submit">Change Passwords</button>
		</p>
	</form>

	<script>
		// Selectors
		var showPasswords = document.querySelector("#show-passwords");
		//// Inputs NodeList -> Array
		var passWordInputs = Array.prototype.slice.call(
		document.querySelectorAll(".password")
		);

		// Methods
		function togglePassword(passWordInput) {
		// is Show Passwords checked? if so, the input to text, if not, set the input to password
		showPasswords.checked
			? (passWordInput.type = "text")
			: (passWordInput.type = "password");
		}

		function loopThroughInputs() {
		// toggle each password input each time the checkbox is clicked
			passWordInputs.forEach(togglePassword);
		}

		// Events
		// check that checkbox & inputs exist
		// check for click on checkbox, then run function
		if (showPasswords && passWordInputs) {
			showPasswords.addEventListener("click", loopThroughInputs);
		}

	</script>
</body>
</html>