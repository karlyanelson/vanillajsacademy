---
layout: layout_project.njk
title: "Round 2 | Project 3: Toggle password visibility in multiple forms"
tags: [project, round2]
---

<main>
  <h1>{{title}}</h1>

  <form>
    <div>
      <label for="username">Username</label>
      <input type="text" name="username" id="username" />
    </div>

    <div>
      <label for="password">Password</label>
      <input
        type="password"
        name="password"
        id="password"
        data-password="form1"
      />
    </div>

    <div class="checkbox">
      <input
        type="checkbox"
        name="show-passwords"
        id="show-password"
        data-toggle="form1"
      />
      <label for="show-password"> Show password </label>
    </div>

    <p>
      <button type="submit">Change Username</button>
    </p>
  </form>

  <h2>Change Password</h2>
  <p>Enter your current password and new password below.</p>

  <form>
    <div>
      <label for="current-password">Current Password</label>
      <input
        type="password"
        name="current-password"
        id="current-password"
        data-password="form2"
      />
    </div>

    <div>
      <label for="new-password">New Password</label>
      <input
        type="password"
        name="new-password"
        id="new-password"
        data-password="form2"
      />
    </div>

    <div class="checkbox">
      <input
        type="checkbox"
        name="show-passwords"
        id="show-passwords"
        data-toggle="form2"
      />
      <label for="show-passwords"> Show password </label>
    </div>

    <p>
      <button type="submit">Change Passwords</button>
    </p>
  </form>
</main>

<script>
  let passwordInputs = document.querySelectorAll("[data-password]");

  document.addEventListener("change", function (event) {
    if (event.target.hasAttribute("data-toggle")) {
      let formName = event.target.getAttribute("data-toggle");

      for (let input of passwordInputs) {
        if (input.getAttribute("data-password") === formName) {
          if (event.target.checked) {
            input.type = "text";
          } else {
            input.type = "password";
          }
        }
      }
    }
  });
</script>
