---
layout: layout_project.njk
round: "2"
number: "3"
title: "Toggle password visibility in multiple forms"
tags: [project, round2]
---

<main>
  <p class="project-metadata">Round {{round}} â€¢ Project {{number}}</p>
  <h1 class="project-title">{{title}}</h1>

  <form>
    <div>
      <label for="username">Username</label>
      <input type="text" name="username" id="username" />
    </div>

    <div>
      <label for="password">Password</label>
      <input type="password" name="password" id="password" />
    </div>

    <div class="checkbox">
      <input
        type="checkbox"
        name="show-passwords"
        id="show-password"
        data-toggle="#password"
      />
      <label for="show-password"> Show password </label>
    </div>

    <p>
      <button type="submit">Change Username</button>
    </p>
  </form>

  <h2>Change Password</h2>
  <p>Enter your current password and new password below.</p>

  <form>
    <div>
      <label for="current-password">Current Password</label>
      <input
        type="password"
        name="current-password"
        id="current-password"
        data-password="form2"
      />
    </div>

    <div>
      <label for="new-password">New Password</label>
      <input
        type="password"
        name="new-password"
        id="new-password"
        data-password="form2"
      />
    </div>

    <div class="checkbox">
      <input
        type="checkbox"
        name="show-passwords"
        id="show-passwords"
        data-toggle="#current-password, #new-password"
      />
      <label for="show-passwords"> Show password </label>
    </div>

    <p>
      <button type="submit">Change Passwords</button>
    </p>
  </form>
</main>

<script>
  const togglePasswordInput = (passwordInput, checkbox) => {
    passwordInput.type = checkbox.checked ? "text" : "password";
  };

  const togglePasswords = (event) => {
    if (event.target.hasAttribute("data-toggle")) {
      let inputSelector = event.target.getAttribute("data-toggle");
      let passwordInputs = document.querySelectorAll(inputSelector);

      for (let input of passwordInputs) {
        togglePasswordInput(input, event.target);
      }
    }
  };

  document.addEventListener("change", togglePasswords);
</script>
