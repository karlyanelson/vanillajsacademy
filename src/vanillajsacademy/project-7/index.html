---
layout: layout_project.njk
title: 'Project 7: Random Ron'
tags: project
---
<main>
	<h1>{{title}}</h1>
    <img class="img-ron" src="https://static.parade.com/wp-content/uploads/2013/10/tv-show-best-boss-ron-swanson.jpg" alt="Ron Swanson.">

    <blockquote>"<span aria-live="polite" id="quote">Loading...</span>"</blockquote>

    <button class="btn-full" id="getQuote">More Ron</button>
</main>

<script>
	// Selectors
    const getQuoteBtn = document.querySelector("#getQuote");
    const quote = document.querySelector("#quote");
    const quoteContainer = document.querySelector("blockquote");

    // Methods
    function handleResponse(response) {
    if (response.ok) {
        return response.json();
    } else {
        return Promise.reject(response);
    }
    }

    function showQuote() {
    fetch("https://ron-swanson-quotes.herokuapp.com/v2/quotes")
        .then(handleResponse)
        .then(function (data) {
            quote.textContent = data[0];
            quoteContainer.classList.remove('error');
        })
        .catch(function (err) {
            console.warn("Error:", err);
            quote.textContent = 'Sorry, there was a problem getting your Ron Swanson quote. Please eat some bacon and try again later.'
            quoteContainer.classList.add('error');
        });
    }

    // Events
    showQuote();
    getQuoteBtn.addEventListener("click", showQuote);
</script>